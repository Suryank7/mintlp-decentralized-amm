id: selectItemWithEmptyValue
language: Tsx
files:
  - src/**/*.tsx
rule:
  kind: jsx_opening_element
  all:
    - has:
        kind: identifier
        regex: '^SelectItem$'
    - has:
        kind: jsx_attribute
        all:
          - has:
              kind: property_identifier
              regex: '^value$'
          - any:
              - has:
                  kind: string
                  regex: '^""$'
              - has:
                  kind: jsx_expression
                  has:
                    kind: string
                    regex: '^""$'

message: "Detected SelectItem component using an empty string as value: $MATCH. This is incorrect usage and will cause a runtime error. Please fix it. If you want to implement 'select all', use 'all' instead of an empty string."
severity: error
